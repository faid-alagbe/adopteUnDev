{% extends 'base.html.twig' %}

{% block title %}Bienvenue
{% endblock %}

{% block body %}
	<!-- Begin page -->
	<div id="layout-wrapper">

		<header id="page-topbar">
			<div class="layout-width">
				<div class="navbar-header">
					<div
						class="d-flex">
						<!-- LOGO -->
						<div class="navbar-brand-box horizontal-logo">
							<a href="index.html" class="logo logo-dark">
								<span class="logo-sm">
									<img src="assets/images/logo-sm.png" alt="" height="22">
								</span>
								<span class="logo-lg">
									<img src="assets/images/logo-dark.png" alt="" height="17">
								</span>
							</a>

							<a href="index.html" class="logo logo-light">
								<span class="logo-sm">
									<img src="assets/images/logo-sm.png" alt="" height="22">
								</span>
								<span class="logo-lg">
									<img src="assets/images/logo-light.png" alt="" height="17">
								</span>
							</a>
						</div>

						<button type="button" class="btn btn-sm px-3 fs-16 header-item vertical-menu-btn topnav-hamburger material-shadow-none" id="topnav-hamburger-icon">
							<span class="hamburger-icon">
								<span></span>
								<span></span>
								<span></span>
							</span>
						</button>

						<!-- App Search-->
						<form method="get" action="{{ path('search_posts') }}" class="row g-3 m-2">
							<div class="col-md-2">
								<select name="technologies" id="technologies" placeholder="Technologie" class="form-select">
									<option value="0">Langages/Technologies</option>
									{% for langage in langages %}
										<option value="{{ langage }}">{{langage.nom}}</option>
									{% endfor %}
									
								</select>
							</div>

							<div class="col-md-2">
								<input type="text" name="localisation" id="localisation" placeholder="Localisation" class="form-control" placeholder="Ex : Paris">
							</div>

							<div class="col-md-2">
								<input type="number" name="salaireMin" placeholder="Salaire maximum" id="salaireMin" class="form-control">
							</div>

							<div class="col-md-2">
								<input type="number" name="experienceMin" id="experienceMin" placeholder="Expérience minimale (années)" class="form-control">
							</div>

							<div class="col-2">
								<button type="submit" class="btn btn-primary">Rechercher</button>
							</div>
						</form>


























					</div>

					<div class="d-flex align-items-center">

						<div class="dropdown d-md-none topbar-head-dropdown header-item">
							<button type="button" class="btn btn-icon btn-topbar material-shadow-none btn-ghost-secondary rounded-circle" id="page-header-search-dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								<i class="bx bx-search fs-22"></i>
							</button>
							<div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0" aria-labelledby="page-header-search-dropdown">
								<form class="p-3">
									<div class="form-group m-0">
										<div class="input-group">
											<input type="text" class="form-control" placeholder="Search ..." aria-label="Recipient's username">
											<button class="btn btn-primary" type="submit">
												<i class="mdi mdi-magnify"></i>
											</button>
										</div>
									</div>
								</form>
							</div>
						</div>


						<div class="dropdown ms-sm-3 header-item topbar-user">
							<button type="button" class="btn material-shadow-none" id="page-header-user-dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								<span class="d-flex align-items-center">
									<img class="rounded-circle header-profile-user" src="assets/images/users/avatar-1.jpg" alt="Header Avatar">
									<span class="text-start ms-xl-2">
										<span class="d-none d-xl-inline-block ms-1 fw-medium user-name-text">Mach Dev</span>
										<span class="d-none d-xl-block ms-1 fs-12 user-name-sub-text">Dévéloppeur</span>
									</span>
								</span>
							</button>
							<div
								class="dropdown-menu dropdown-menu-end">
								<!-- item-->
								<h6 class="dropdown-header">Bienvenue Dev</h6>
								<a class="dropdown-item" href="{{ url('app_profil')}}">
									<i class="mdi mdi-account-circle text-muted fs-16 align-middle me-1"></i>
									<span class="align-middle">Profile</span>
								</a>
								<a class="dropdown-item" href="#">
									<i class="mdi mdi-account-circle text-muted fs-16 align-middle me-1"></i>
									<span class="align-middle">Noter un developpeur</span>
								</a>
								<a class="dropdown-item" href="{{ url('app_logout') }}">
									<i class="mdi mdi-logout text-muted fs-16 align-middle me-1"></i>
									<span class="align-middle" data-key="t-logout">Deconnexion</span>
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</header>

		<!-- removeNotificationModal -->
		<div id="removeNotificationModal" class="modal fade zoomIn" tabindex="-1" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="NotificationModalbtn-close"></button>
					</div>
					<div class="modal-body">
						<div class="mt-2 text-center">
							<lord-icon src="https://cdn.lordicon.com/gsqxdxog.json" trigger="loop" colors="primary:#f7b84b,secondary:#f06548" style="width:100px;height:100px"></lord-icon>
							<div class="mt-4 pt-2 fs-15 mx-4 mx-sm-5">
								<h4>Are you sure ?</h4>
								<p class="text-muted mx-4 mb-0">Are you sure you want to remove this Notification ?</p>
							</div>
						</div>
						<div class="d-flex gap-2 justify-content-center mt-4 mb-2">
							<button type="button" class="btn w-sm btn-light" data-bs-dismiss="modal">Close</button>
							<button type="button" class="btn w-sm btn-danger" id="delete-notification">Yes, Delete It!</button>
						</div>
					</div>

				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->
		<!-- ========== App Menu ========== -->
		<div
			class="app-menu navbar-menu">
			<!-- LOGO -->
			<div
				class="navbar-brand-box">
				<!-- Dark Logo-->
				<a href="index.html" class="logo logo-dark">
					<span class="logo-sm">
						<img src="assets/images/logo-sm.png" alt="" height="22">
					</span>
					<span class="logo-lg">
						<img src="assets/images/logo-dark.png" alt="" height="17">
					</span>
				</a>
				<!-- Light Logo-->
				<a href="index.html" class="logo logo-light">
					<span class="logo-sm">
						<img src="assets/images/logo-sm.png" alt="" height="22">
					</span>
					<span class="logo-lg">
						<img src="assets/images/logo-light.png" alt="" height="17">
					</span>
				</a>
				<button type="button" class="btn btn-sm p-0 fs-20 header-item float-end btn-vertical-sm-hover" id="vertical-hover">
					<i class="ri-record-circle-line"></i>
				</button>
			</div>

			<div class="dropdown sidebar-user m-1 rounded">
				<button type="button" class="btn material-shadow-none" id="page-header-user-dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<span class="d-flex align-items-center gap-2">
						<img class="rounded header-profile-user" src="assets/images/users/avatar-1.jpg" alt="Header Avatar">
						<span class="text-start">
							<span class="d-block fw-medium sidebar-user-name-text">Mach Dev</span>
							<span class="d-block fs-14 sidebar-user-name-sub-text">
								<i class="ri ri-circle-fill fs-10 text-success align-baseline"></i>
								<span class="align-middle">Online</span>
							</span>
						</span>
					</span>
				</button>
				<div
					class="dropdown-menu dropdown-menu-end">
					<!-- item-->
					<h6 class="dropdown-header">Bienvenue Dev</h6>
					<a class="dropdown-item" href="{{ url('app_profil') }}">
						<i class="mdi mdi-account-circle text-muted fs-16 align-middle me-1"></i>
						<span class="align-middle">Profile</span>
					</a>
					<a class="dropdown-item" href="{{ url('app_logout') }}">
						<i class="mdi mdi-logout text-muted fs-16 align-middle me-1"></i>
						<span class="align-middle" data-key="t-logout">Deconnexion</span>
					</a>
				</div>
			</div>
			<div id="scrollbar">
				<div class="container-fluid">


					<div id="two-column-menu"></div>
					<ul class="navbar-nav" id="navbar-nav"></ul>
				</div>
				<!-- Sidebar -->
			</div>

			<div class="sidebar-background"></div>
		</div>
		<!-- Left Sidebar End -->
		<!-- Vertical Overlay-->
		<div class="vertical-overlay"></div>

		<!-- ============================================================== -->
		<!-- Start right Content here -->
		<!-- ============================================================== -->
			<div class="main-content"> <div class="page-content">
				<div
					class="container-fluid">

					<!-- start page title -->
					<div class="row">
						<div class="col-12">
							<div class="page-title-box d-sm-flex align-items-center justify-content-between bg-galaxy-transparent">
								<h4 class="mb-sm-0">Bienvenue</h4>
							</div>
						</div>
					</div>
					


						
					<!-- end page title -->
					<div class="row">
					{% for poste in postes %}
						<div class="col-lg-6">
							<div class="card shadow-lg">
								<div class="card-body">
									<div class="d-flex">
										<div class="avatar-sm">
											<div class="avatar-title bg-success-subtle rounded">
												<img src="assets/images/companies/img-9.png" alt="" class="avatar-xxs">
											</div>
										</div>
										<div class="ms-3 flex-grow-1">
											<a href="#!">
												<h5>{{ poste.titre }}</h5>
											</a>
											<ul class="list-inline text-muted mb-3">
												<li class="list-inline-item">
													<i class="ri-building-line align-bottom me-1"></i>
													{{ poste.showCompany.nom }}
												</li>
												<li class="list-inline-item">
													<i class="ri-map-pin-2-line align-bottom me-1"></i>
													{{ poste.localisation }}
												</li>
												<li class="list-inline-item">
													<i class="ri-money-dollar-circle-line align-bottom me-1"></i>
													{{ poste.salaire }}
												</li>
											</ul>
											<div class="hstack gap-2">
												{% for langage in poste.langages %}
												<span class="badge bg-success-subtle text-success">{{ langage }}</span>
												{% endfor %}
												
											</div>
										</div>
										<div>
                                            <a href="{{ path('app_postes_show', {'id': poste.id}) }}" >
                                                <button class='btn btn-outline-primary'>
                                                    <span class="icon">
                                                        <i class="ri-eye-line"></i>
                                                    </span>
                                                </button>
                                            </a>
										</div>
									</div>
								</div>
							</div>
						</div>
                    {% else %}
                        <div class='text-center'>
							Pas de postes de votre part
                        </div>
                    {% endfor %}
						
					</div>

					

					<div class="row pt-3">
						<div class="col-12">
							<div class="page-title-box d-sm-flex align-items-center justify-content-between bg-galaxy-transparent">
								<h4 class="mb-sm-0">Quelques Entreprises</h4>
							</div>
						</div>
					</div>
					<div class="row">
					<!-- end row-->
						{% for entreprise in entreprises %}
							<div class="col-xl-3 col-md-6">
								<div class="card card-height-100">
									<div class="card-body">
										<div class="dropdown float-end">
											<a class="text-reset dropdown-btn" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
												<span class="text-muted fs-18">
													<i class="mdi mdi-dots-vertical"></i>
												</span>
											</a>
											<div class="dropdown-menu dropdown-menu-end">
												<a class="dropdown-item" href="#!">Favorite</a>
											</div>
										</div>
										<div class="mb-4 pb-2">
											<img src="assets/images/companies/img-4.png" alt="" class="avatar-sm">
										</div>
										<a href="#!">
											<h6 class="fs-15 fw-semibold">{{ entreprise.nom }}
											</h6>
										</a>
										<p class="text-muted mb-0">
											<i class="ri-building-line align-bottom"></i>
											{{ entreprise.nom }}
											<span class="ms-2">
												<i class="ri-map-pin-2-line align-bottom"></i>
												{{ entreprise.location }}</span>
										</p>
									</div>
								</div>
							</div>
						{% else %}
							<div class='text-center'>
								Aucune Entreprise
							</div>
						{% endfor %}
						
					</div>
					<!-- end row-->
					<div class="row pt-3">
						<div class="col-12">
							<div class="page-title-box d-sm-flex align-items-center justify-content-between bg-galaxy-transparent">
								<h4 class="mb-sm-0">Offres</h4>
							</div>
						</div>
					</div>
					<div class="row">
					{% for offre in offres %}

					<div class="col-lg-3 col-md-6">
						<div class="card shadow-none text-center py-3">
							<div class="card-body py-4">
								<div class="avatar-sm position-relative mb-4 mx-auto">
									<div class="job-icon-effect"></div>
									<div class="avatar-title bg-transparent text-success rounded-circle">
										<i class="ri-pencil-ruler-2-line fs-1"></i>
									</div>
								</div>
								<a href="#!" class="stretched-link">
									<h5 class="fs-17 pt-1">{{ offre.titre }}</h5>
								</a>
								<p class="mb-0 text-muted">{{ offre.count }} Jobs</p>
							</div>
						</div>
					</div>

					{% else %}
						<div class='text-center'>
							Aucune Offre disponible
						</div>
					{% endfor %}
						
						
					</div>

				</div>
				<!-- container-fluid -->
			</div>
			<!-- End Page-content -->

			<footer class="footer">
				<div class="container-fluid">
					<div class="row">
						<div class="col-sm-6">
							<script>
								document.write(new Date().getFullYear())
							</script>
							© Velzon.
						</div>
						<div class="col-sm-6">
							<div class="text-sm-end d-none d-sm-block">
								Design & Develop by Themesbrand
							</div>
						</div>
					</div>
				</div>
			</footer>
		</div>
		<!-- end main content-->

	</div>
	<!-- END layout-wrapper -->

{% endblock %}
